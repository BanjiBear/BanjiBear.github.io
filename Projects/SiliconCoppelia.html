<!DOCTYPE html>
<html>
<head>
  <!-- Meta is the information that will not be shown on the screen -->
  <!-- author: The name of the webpage -->
  <meta name="author" content="Banjibear">
  <!-- Refreshes the webpage every x seconds: 60 for the surrent case -->
  <meta name="refresh" content="60">
  <!-- Setting the viewport to make your website look good on all devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Projects - SiliconCoppélia </title> <!-- Name or the tile shown on the tab -->
  <style>

  body{
    background-color: black;
    color: ghostwhite;
  }
  ::selection{
    color:  white;
    background-color: green;
  }
  .icon {
    /* Reference: https://stackoverflow.com/questions/53276676/icon-inside-button-not-centered-in-iphone */
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%)
  }

  /* The following are the Constant Settings/Styles in all pages */

  /* Home button */
  /* Using the same name in all Pages */
  .b2{
    position: absolute;
    bottom: 25px;
    right: 5px;
    width: 50px;
    height: 50px;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border-radius: 50%;
    background-color: white; 
    border: 2px solid transparent;
  }
  .b2:hover {
    /* change color */
    background-color: #e7e7e7;
    color: white;
    /* hover shadow */
    box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24),0 17px 50px 0 rgba(0,0,0,0.19);
  }
  .b2:active {
    background-color: #00000;
    box-shadow: 0 5px #666;
    transform: translateY(4px);
  }

  .bottomFooter{
    position: fixed;
    left: 0;
    bottom: 0;
    width: 100%;
  }

  /* The sidebar */
  .sidebar {
    height: 100%; 
    width: 0; 
    position: fixed; 
    z-index: 1; /* Stay on top */
    top: 0;
    left: 0;
    background-color: black;
    overflow-x: hidden; 
    padding-top: 60px; 
    transition: 0.5s; 
  }
  /* The sidebar links */
  .sidebar a {
    padding: 8px 8px 8px 32px;
    text-decoration: none;
    font-size: 25px;
    color: grey;
    display: block;
    transition: 0.3s;
  }
  .sidebar a:hover {
    color: white;
  }
  .sidebar .closeButton {
    position: absolute;
    top: 0;
    right: 25px;
    font-size: 36px;
    margin-left: 50px;
  }
  .openButton {
    font-size: 20px;
    cursor: pointer;
    background-color: transparent;
    color: white;
    padding: 10px 15px;
    border: none;
  }
  .openButton:hover {
    background-color: #444;
  }
  /* Style page content - use this if you want to push the page content to the right when you open the side navigation */
  #main {
    transition: margin-left .5s; /* If you want a transition effect */
    padding: 20px;
  }
  /* On smaller screens, where height is less than 450px, change the style of the sidenav (less padding and a smaller font size) */
  @media screen and (max-height: 450px) {
    .sidebar {padding-top: 15px;}
    .sidebar a {font-size: 18px;}
  }

  .content{
    margin-left: 10vw;
    margin-right: 10vw;
    font-family: "Lucida Console", "Courier New", monospace;
  }
  .box{ max-width: 35vw;}
  .box_align{ display: inline-flex;}
  .box_align_margin{ margin-right: 10vw; }
  .code{
    width: 100%;
    height: 50vh;
    overflow:auto;
    background-color: #2e3842;
    border-radius: 10px;
    padding: 10px;
  }
  @media only screen and (max-width: 620px){
    .content{
      width: 100%;
      margin: 0;
    }
    .box, .box_align{
      max-width: 100%;
      display: block;
    }
  }


  </style>
</head>
<body>

  <div id="mySidebar" class="sidebar">
    <a href="javascript:void(0)" class="closeButton" onclick="closeNav()">&times;</a>
    <a href="../AboutMe.html"> <h1 style="color:ghostwhite; font: 15.0px Bradley Hand">About Me</b> </a>
    <a href="https://drive.google.com/file/d/1sUz0Q3nxzcKmmvESOlINPyJkDoz2tYtR/view?usp=sharing" target="_blank"> <h1 style="color:ghostwhite; font: 15.0px Bradley Hand">Resume</b> </a>
    <a href="../Projects.html"> <h1 style="color:ghostwhite; font: 15.0px Bradley Hand"><ion-icon name="terminal-outline"></ion-icon> Projects</b> </a>
    <a href="../Albums.html"> <h1 style="color:ghostwhite; font: 15.0px Bradley Hand">Albums</b> </a>
    <a href="" onclick="alert('Sorry! This pager is not available yet &#x1F625;');"> <h1 style="color:ghostwhite; font: 15.0px Bradley Hand">Foodie</b> </a>
    <a href="../Contact.html"> <h1 style="color:ghostwhite; font: 15.0px Bradley Hand">Contact</b> </a>
  </div>
  <div id="main">
    <div style="text-align:left">
      <button class="openButton" onclick="openNav()">&#9776;</button>
    </div>
  </div>

  <a href="https://www.polyu.edu.hk/publications/excelximpact/issue/202101/research-innovation/robot-alice-alleviates-elderly-people-s-loneliness" target="_blank"><img src="Coppelia.jpg" style="width: 100%;"></a>
  
  <div class="content">
    <p style="color: grey;">Artificial Intelligence Software Implementation/Research Student Assistant</p>
    <h1>Silicon Coppélia</h1>
    <hr style="border: 3px solid white; border-radius: 10px;">

    <div class="box_align">
      <div class="box">
        <h2>About</h2>
        <p>Silicon Coppélia is an ongoing affective computing research project. This software aims to cope with the number produced by Coppélia during the affection/emotion processing process in order to make Coppélia simulate emotions and response affectively to the agent being observed as well as select actions by applying Natural Language Processing(NLP).</p>
      </div>
      <div class="box">
        <h2>Timeline</h2>
        <p>November 2021 &#8722; Present</p>
        <h2>To-Do</h2>
        <p>The current priority is <b>to make explicit what Coppélia observes, the goals it has, and the reasoning it does (explainable AI)</b></p>
      </div>
    </div>

    <h2>Notable Accomplishment</h2>
    <ul>
      <li>Implement the reasoning between what Coppélia observes and the affective/emotion being simulated</li>
      <li>API for the output of the emotion processing process to convert into words</li>
    </ul>
    

    <hr><h2>Usage and Detailed Description</h2>
    <hr><h2 style="display: inline-flex;">Snipped Source Code</h2><p style="color: grey; display: inline-flex; margin: 10px; font-size: 5%;">Update: 15 FEB, 2022</p>
    <div class="code"><pre style="max-width: 10%;"><span style="color:#b985b7;">import</span> <span style="color:steelblue;">dimensions.</span></span><span style="color:#e66a4c;">*</span>;

<span style="color:#b985b7;">import</span> <span style="color:steelblue;">java.awt.</span><span style="color:#e66a4c;">*</span>;
<span style="color:#b985b7;">import</span> <span style="color:steelblue;">java.util.</span><span style="color:#e66a4c;">*</span>;
<span style="color:#b985b7;">import</span> <span style="color:steelblue;">java.lang.</span><span style="color:#e66a4c;">*</span>;
<span style="color:#b985b7;">import</span> <span style="color:steelblue;">javax.swing.</span><span style="color:#e66a4c;">*</span>;
<span style="color:#b985b7;">import</span> <span style="color:steelblue;">java.util.Random;</span>

<span style="color:#b985b7;">import static</span> <span style="color:steelblue;">java.lang.Integer.parseInt;</span>

<span style="color:#df4e5c;">public</span> <span style="color:#b985b7;">class</span> <span style="color:#dc9744;">Controller</span> {

    <span style="color:#df4e5c;">private static</span> <span style="color:steelblue;">Scanner</span> scan <span style="color:#e66a4c;">=</span> <span style="color:#b985b7;">new</span> <span style="color:steelblue;">Scanner</span>(<span style="color:steelblue;">System</span>.in);

    <span style="color:#df4e5c;">private static</span> <span style="color:#b985b7;">float</span> <span style="color:#dc9744;">ETHICS</span>;
    <span style="color:#df4e5c;">private static</span> <span style="color:#b985b7;">int</span><span style="color:#df4e5c;">[]</span> affordanceFeatures <span style="color:#e66a4c;">=</span> <span style="color:#b985b7;">new int</span>[<span style="color:#dc9744;">3</span>];
    <span style="color:#df4e5c;">private static</span> <span style="color:#b985b7;">int</span> num <span style="color:#e66a4c;">=</span> <span style="color:#dc9744;">0</span>;
    <span style="color:#df4e5c;">private static</span> <span style="color:#b985b7;">int</span> index <span style="color:#e66a4c;">=</span> <span style="color:#dc9744;">0</span>;
    <span style="color:#df4e5c;">private static</span> <span style="color:steelblue;">String</span><span style="color:#df4e5c;">[]</span> features <span style="color:#e66a4c;">=</span> {<span style="color:#39b6b5;">"</span><span style="color:#7baf81;">a friendly appearance <span style="color:#39b6b5;">"</span>, <span style="color:#39b6b5;">"</span>a young age <span style="color:#39b6b5;">"</span>, <span style="color:#39b6b5;">"</span>a wealthy income status <span style="color:#39b6b5;">"</span>, <span style="color:#39b6b5;">"</span>keeping one or two pets </span><span style="color:#39b6b5;">"</span>};
    <span style="color:#df4e5c;">private static</span> <span style="color:steelblue;">String</span><span style="color:#df4e5c;">[]</span> valence <span style="color:#e66a4c;">=</span> {<span style="color:#39b6b5;">"</span><span style="color:#7baf81;">Your appearance <span style="color:#39b6b5;">"</span>, <span style="color:#39b6b5;">"</span>Your age <span style="color:#39b6b5;">"</span>, <span style="color:#39b6b5;">"</span>Your income status <span style="color:#39b6b5;">"</span>, <span style="color:#39b6b5;">"</span>The number of pets you have</span> <span style="color:#39b6b5;">"</span>};

    <span style="color:#df4e5c;">private static</span> <span style="color:steelblue;">StringBuffer</span> sent1 <span style="color:#e66a4c;">=</span> <span style="color:#b985b7;">new</span> <span style="color:steelblue;">StringBuffer</span>(<span style="color:#39b6b5;">"</span><span style="color:#7baf81;">You are</span> <span style="color:#39b6b5;">"</span>);               <span style="color:#a5acba;">// Ethics and Affordances</span>
    <span style="color:#df4e5c;">private static</span> <span style="color:steelblue;">StringBuffer</span> sent2 <span style="color:#e66a4c;">=</span> <span style="color:#b985b7;">new</span> <span style="color:steelblue;">StringBuffer</span>(<span style="color:#39b6b5;">"</span><span style="color:#7baf81;">I find</span> <span style="color:#39b6b5;">"</span>);                <span style="color:#a5acba;">// Relevance: What is important and what is not</span>
    <span style="color:#df4e5c;">private static</span> <span style="color:steelblue;">StringBuffer</span> sent3 <span style="color:#e66a4c;">=</span> <span style="color:#b985b7;">new</span> <span style="color:steelblue;">StringBuffer</span>(<span style="color:#39b6b5;">""</span>);                       <span style="color:#a5acba;">// Valence: hope/fear a pos/neg outcome</span>
    <span style="color:#df4e5c;">private static</span> <span style="color:steelblue;">StringBuffer</span> sent4 <span style="color:#e66a4c;">=</span> <span style="color:#b985b7;">new</span> <span style="color:steelblue;">StringBuffer</span>(<span style="color:#39b6b5;">"</span><span style="color:#7baf81;">Therefore,</span> <span style="color:#39b6b5;">"</span>);            <span style="color:#a5acba;">// Involvement and Distance</span>

    <span style="color:#df4e5c;">public static</span> <span style="color:#b985b7;">void</span> <span style="color:#39b6b5;">main</span>(<span style="color:steelblue;">String</span><span style="color:#df4e5c;">[]</span> <span style="color:#dc9744;">args</span>) <span style="color:#b985b7;">throws</span> <span style="color:steelblue;">Exception</span> {

        <span style="color:#a5acba;">// Step 1: greetings from Coppélia</span>
        <span style="color:steelblue;">greetings</span>();

        <span style="color:#a5acba;">// Step 2: self-introduction from the agent</span>
        <span style="color:steelblue;">usrIntro</span>();

        <span style="color:#a5acba;">// Step 3: Create all object and pass parameters for processing</span>
        <span style="color:steelblue;">Random</span> rd <span style="color:#e66a4c;">=</span> <span style="color:#b985b7;">new</span> <span style="color:steelblue;">Random</span>(); <span style="color:#b985b7;">ETHICS</span> <span style="color:#e66a4c;">=</span> rd.<span style="color:steelblue;">nextFloat</span>(); <span style="color:steelblue;">Ethics</span> eth <span style="color:#e66a4c;">=</span> <span style="color:#b985b7;">new</span> <span style="color:steelblue;">ETHICS</span>(<span style="color:#b985b7;">ETHICS</span>); <span style="color:#a5acba;">// Random Ethics</span>
        <span style="color:steelblue;">Affordance</span> aff <span style="color:#e66a4c;">=</span> <span style="color:#b985b7;">new</span> <span style="color:steelblue;">Affordance</span>(affordanceFeatures);
        <span style="color:steelblue;">Valence</span> val <span style="color:#e66a4c;">=</span> <span style="color:#b985b7;">new</span> <span style="color:steelblue;">Valence</span>(<span style="color:#b985b7;">ETHICS</span>, affordanceFeatures);
        <span style="color:#a5acba;">// feature-1: ethics   feature-2: age  feature-3: income  feature-4: pet</span>
        <span style="color:#a5acba;">// For Users: All relevance can be changed here</span>
        <span style="color:steelblue;">Relevance</span>[] rel <span style="color:#e66a4c;">=</span> {new <span style="color:steelblue;">Relevance</span>(0.657), new <span style="color:steelblue;">Relevance</span>(0.9), new <span style="color:steelblue;">Relevance</span>(0.312), new <span style="color:steelblue;">Relevance</span>(0.76)};
        <span style="color:steelblue;">Involvement</span> invl <span style="color:#e66a4c;">=</span> new <span style="color:steelblue;">Involvement</span>(ETHICS, aff.<span style="color:steelblue;">convert</span>(affordanceFeatures[0], 0), aff.<span style="color:steelblue;">convert</span>(affordanceFeatures[1], 1), aff.<span style="color:steelblue;">convert</span>(affordanceFeatures[2], 2),  0.75,  0.4);
        Distance dist <span style="color:#e66a4c;">=</span> new Distance(ETHICS, aff.<span style="color:steelblue;">convert</span>(affordanceFeatures[0], 0), aff.<span style="color:steelblue;">convert</span>(affordanceFeatures[1], 1), aff.<span style="color:steelblue;">convert</span>(affordanceFeatures[2], 2),  0.25,  0.4);
        UseIntention useInt <span style="color:#e66a4c;">=</span> new UseIntention(ETHICS, aff.<span style="color:steelblue;">convert</span>(affordanceFeatures[0], 0), aff.<span style="color:steelblue;">convert</span>(affordanceFeatures[1], 1), aff.<span style="color:steelblue;">convert</span>(affordanceFeatures[2], 2));

        <span style="color:#a5acba;">// Step 4: sentence formulation</span>
        System.out.println(eth.compare());
        sentenceFormulation(aff, val, rel);     <span style="color:#a5acba;">// Ethics, Affordances, Relevance, Valence</span>
        invlNdistFormulation(invl, dist, useInt);    <span style="color:#a5acba;">// Involvement, Distance</span>
        System.out.println(sent1.toString()); System.out.println("\n");
        System.out.println(sent2.toString()); System.out.println(sent3.toString()); System.out.println("\n");
        System.out.println(sent4.toString());

        System.exit(0);
    }

    private static void greetings() throws Exception{
        System.out.println("Hi, I'm Coppélia.\nI want to go on a date with you.\n");

        // Currently analyze the agent by prompting self-introduction
    }

    private static void usrIntro(){

        JFrame jFrame = new JFrame(); // https://www.delftstack.com/howto/java/java-pop-up-window/
        //Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();
        //jFrame.setSize(1000,900);
        affordanceFeatures[0] = parseInt(JOptionPane.showInputDialog(jFrame, "What is your age?"));
        affordanceFeatures[1] = parseInt(JOptionPane.showInputDialog(jFrame, "What is your monthly income?"));
        affordanceFeatures[2] = parseInt(JOptionPane.showInputDialog(jFrame, "How many pets do you have?"));
        /*
        System.out.println(getMessage);
        for(int i = 0; i < affordanceFeatures.length; i++){
            System.out.println(affordanceFeatures[i]);
        }
        */
    }

    private static void sentenceFormulation(Affordance aff, Valence val, Relevance[] rel){
        countPos(aff);
        if(num == 3){
            sent1.append("not only ").append(aff.compare()[0]).append(" and ").append(aff.compare()[1]).append(" but also keeping ");
            if(affordanceFeatures[2] == 1) sent1.append(String.valueOf(affordanceFeatures[2])).append(" pet.");
            else sent1.append(String.valueOf(affordanceFeatures[2])).append(" pets.");

            // sent3 num == 3
            // +    +    +
            if(val.ValOfFeatures()[0] > 0 /* Ethics */)sent3.append(valence[0]).append("gives me ").append(val.getLevel()[0]).append(". ");
            if(count2s(aff) == 1){
                // sent3 num == 3
                // 1    1    2
                sent3.append(valence[3]).append("gives me ").append(val.getLevel()[3]).append(" that we will get along very well. ");
                sent3.append(valence[1]).append("and ").append(valence[2].toLowerCase()).append("give me ").append(val.getLevel()[1]).append(" that we will be good. ");
            }
            else if(count2s(aff) == 2){
                if(aff.ValOfFeatures()[0] == 2){
                    // sent3 num == 3
                    // 2    1    2
                    sent3.append(valence[1]).append("and ").append(valence[3].toLowerCase()).append("give me ").append(val.getLevel()[3]).append(" that we will get along very well. ");
                    sent3.append(valence[2]).append("gives me ").append(val.getLevel()[2]).append(" that we will be good. ");
                }
                else if(aff.ValOfFeatures()[1] == 2){
                    // sent3 num == 3
                    // 1    2    2
                    sent3.append(valence[2]).append("and ").append(valence[3].toLowerCase()).append("give me ").append(val.getLevel()[3]).append(" that we will get along very well. ");
                    sent3.append(valence[1]).append("gives me ").append(val.getLevel()[1]).append(" that we will be good. ");
                }
            }
            else{
                // sent3 num == 3
                // 2    2    2
                sent3.append(valence[1]).append(", ").append(valence[2]).append(", and ").append(valence[3].toLowerCase()).append("give me ").append(val.getLevel()[3]).append(" that we will get along very well. ");
            }
            if(val.ValOfFeatures()[0] < 0 /* Ethics */)sent3.append("Yet, ").append(valence[0].toLowerCase()).append("gives me ").append(val.getLevel()[0]).append(" that makes me fear a bad outcome.");
        }
        else if(num == 0){
            sent1.append(aff.compare()[0]).append(", ").append(aff.compare()[1]);
            //System.out.print(affordanceFeatures[2]); // For debugging
            if(affordanceFeatures[2] == 0) sent1.append(", and you don't keep pets.");
            else sent1.append(", and you keep ").append(String.valueOf(affordanceFeatures[2])).append(" pets.");

            // sent3 num == 0
            // -1/-2   -1/-2   -1/-2
            if(val.ValOfFeatures()[0] > 0 /* Ethics */) sent3.append(valence[0]).append("gives me ").append(val.getLevel()[0]).append(". Yet, ");
            else if(val.ValOfFeatures()[0] < 0 /* Ethics */) sent3.append(valence[0]).append("gives me ").append(val.getLevel()[0]).append(". ");
            sent3.append(valence[1]).append("gives me ").append(val.getLevel()[1]).append(", ").append(valence[2].toLowerCase()).append("gives me ").append(val.getLevel()[2]).append(", and ").append(valence[3].toLowerCase()).append("gives me ").append(val.getLevel()[3]);
            sent3.append(" which make me fear a bad outcome");
        }
        else if(num == 2){
            if(negIndex(aff) == 0){
                sent1.append(aff.compare()[1]).append(" and you keep ");
                if(affordanceFeatures[2] == 1) sent1.append(String.valueOf(affordanceFeatures[2])).append(" pet");
                else sent1.append(String.valueOf(affordanceFeatures[2])).append(" pets");
                sent1.append(" but you are ").append(aff.compare()[0]).append(".");

                // sent3 num == 2
                // +    +    -
                if(val.ValOfFeatures()[0] > 0 /* Ethics */)sent3.append(valence[0]).append("gives me ").append(val.getLevel()[0]).append(". ");
                // -1/-2    2    2
                if(aff.ValOfFeatures()[1] == aff.ValOfFeatures()[2]){
                    sent3.append(valence[2]).append("and ").append(valence[3].toLowerCase()).append("give me ").append(val.getLevel()[3]).append(" that we will get along well. ");
                }
                // -1/-2    2    1
                else if(aff.ValOfFeatures()[1] != aff.ValOfFeatures()[2]){
                    sent3.append(valence[2]).append("gives me ").append(val.getLevel()[2]).append(". ");
                    sent3.append(valence[3]).append("gives me ").append(val.getLevel()[3]).append(". ");
                }
                sent3.append("Yet, ").append(valence[1]).append("gives me ").append(val.getLevel()[1]);
                if(val.ValOfFeatures()[0] < 0 /* Ethics */)sent3.append(" and ").append(valence[0].toLowerCase()).append("gives me ").append(val.getLevel()[0]).append(" that make me fear a bad outcome.");
                else sent3.append(" that makes me fear a bad outcome. ");
            }
            else if(negIndex(aff) == 1){
                sent1.append(aff.compare()[0]).append(" and you keep ");
                if(affordanceFeatures[2] == 1) sent1.append(String.valueOf(affordanceFeatures[2])).append(" pet");
                else sent1.append(String.valueOf(affordanceFeatures[2])).append(" pets");
                sent1.append(" but you are ").append(aff.compare()[1]).append(".");

                // sent3 num == 2
                // +    +    -
                if(val.ValOfFeatures()[0] > 0 /* Ethics */)sent3.append(valence[0]).append("gives me ").append(val.getLevel()[0]).append(". ");
                // 2    -1/-2    2
                if(aff.ValOfFeatures()[0] == aff.ValOfFeatures()[2]){
                    sent3.append(valence[1]).append("and ").append(valence[3].toLowerCase()).append("give me ").append(val.getLevel()[3]).append(" that we will get along well. ");
                }
                // 2    -1/-2    1
                else if(aff.ValOfFeatures()[0] != aff.ValOfFeatures()[2]){
                    sent3.append(valence[1]).append("gives me ").append(val.getLevel()[1]).append(". ");
                    sent3.append(valence[3]).append("gives me ").append(val.getLevel()[3]).append(". ");
                }
                sent3.append("Yet, ").append(valence[2]).append("gives me ").append(val.getLevel()[2]);
                if(val.ValOfFeatures()[0] < 0 /* Ethics */)sent3.append(" and ").append(valence[0].toLowerCase()).append("gives me ").append(val.getLevel()[0]).append(" that make me fear a bad outcome.");
                else sent3.append(" that makes me fear a bad outcome. ");
            }
            else if(negIndex(aff) == 2){
                sent1.append(aff.compare()[0]).append(" and ").append(aff.compare()[1]).append(" but you ");
                if(affordanceFeatures[2] == 0) sent1.append("don't keep pets.");
                else sent1.append("keep ").append(String.valueOf(affordanceFeatures[2])).append(" pets.");

                // sent3 num == 2
                // +    +    -
                if(val.ValOfFeatures()[0] > 0 /* Ethics */)sent3.append(valence[0]).append("gives me ").append(val.getLevel()[0]).append(". ");
                // 2        2    -1/-2
                if(aff.ValOfFeatures()[0] == aff.ValOfFeatures()[1]){
                    sent3.append(valence[1]).append("and ").append(valence[2].toLowerCase()).append("give me ").append(val.getLevel()[2]).append(" that we will get along well. ");
                }
                // 1       2    -1/-2
                else if(aff.ValOfFeatures()[0] != aff.ValOfFeatures()[1]){
                    sent3.append(valence[1]).append("gives me ").append(val.getLevel()[1]).append(". ");
                    sent3.append(valence[2]).append("gives me ").append(val.getLevel()[2]).append(". ");
                }
                sent3.append("Yet, ").append(valence[3]).append("gives me ").append(val.getLevel()[3]);
                if(val.ValOfFeatures()[0] < 0 /* Ethics */)sent3.append(" and ").append(valence[0].toLowerCase()).append("gives me ").append(val.getLevel()[0]).append(" that make me fear a bad outcome.");
                else sent3.append(" that makes me fear a bad outcome. ");
            }
        }
        else if(num == 1){
            if(posIndex(aff) == 0){
                sent1.append(aff.compare()[0]).append(" yet you are ").append(aff.compare()[1]).append(" and you ");
                if(affordanceFeatures[2] == 0) sent1.append("don't keep pets.");
                else sent1.append("have ").append(String.valueOf(affordanceFeatures[2])).append(" pets.");

                // sent3 num == 1
                // +    -    -
                if(val.ValOfFeatures()[0] > 0 /* Ethics */)sent3.append(valence[0]).append("gives me ").append(val.getLevel()[0]).append(". ");
                // 2       -1       -1
                if(aff.ValOfFeatures()[1] == aff.ValOfFeatures()[2]){
                    sent3.append(valence[1]).append("gives me ").append(val.getLevel()[1]).append(". ");
                    sent3.append("Yet, ").append(valence[2].toLowerCase()).append("and ").append(valence[3].toLowerCase()).append("give me ").append(val.getLevel()[2]).append(" that make me fear a bad outcome. ");
                }
                // 2       -2       -1
                else if(aff.ValOfFeatures()[1] != aff.ValOfFeatures()[2]){
                    sent3.append(valence[1]).append("gives me ").append(val.getLevel()[1]).append(". ");
                    sent3.append("Yet, ").append(valence[2].toLowerCase()).append("gives me ").append(val.getLevel()[2]).append(" and ").append(valence[3].toLowerCase()).append("gives me ").append(val.getLevel()[3]).append(" that make me fear a bad outcome. ");
                }
                if(val.ValOfFeatures()[0] < 0 /* Ethics */)sent3.append(valence[0]).append("gives me ").append(val.getLevel()[0]).append(" that makes me hesitate.");
            }
            else if(posIndex(aff) == 1){
                sent1.append(aff.compare()[1]).append(" yet you are ").append(aff.compare()[0]).append(" and you ");
                if(affordanceFeatures[2] == 0) sent1.append("don't keep pets.");
                else sent1.append("have ").append(String.valueOf(affordanceFeatures[2])).append(" pets.");

                // sent3 num == 1
                // -    +    -
                if(val.ValOfFeatures()[0] > 0 /* Ethics */)sent3.append(valence[0]).append("gives me ").append(val.getLevel()[0]).append(". ");
                // -1       2       -1
                if(aff.ValOfFeatures()[0] == aff.ValOfFeatures()[2]){
                    sent3.append(valence[2]).append("gives me ").append(val.getLevel()[2]).append(". ");
                    sent3.append("Yet, ").append(valence[1].toLowerCase()).append("and ").append(valence[3].toLowerCase()).append("give me ").append(val.getLevel()[3]).append(" that make me fear a bad outcome. ");
                }
                // -1       2       -2
                else if(aff.ValOfFeatures()[0] != aff.ValOfFeatures()[2]){
                    sent3.append(valence[2]).append("gives me ").append(val.getLevel()[2]).append(". ");
                    sent3.append("Yet, ").append(valence[1].toLowerCase()).append("gives me ").append(val.getLevel()[1]).append(" and ").append(valence[3].toLowerCase()).append("gives me ").append(val.getLevel()[3]).append(" that make me fear a bad outcome. ");
                }
                if(val.ValOfFeatures()[0] < 0 /* Ethics */)sent3.append(valence[0]).append("gives me ").append(val.getLevel()[0]).append(" that makes me hesitate.");
            }
            else if(posIndex(aff) == 2){
                sent1.append(aff.compare()[0]).append(" and ").append(aff.compare()[1]).append(" but you keep ");
                if(affordanceFeatures[2] == 1) sent1.append(String.valueOf(affordanceFeatures[2])).append(" pet.");
                else sent1.append(String.valueOf(affordanceFeatures[2])).append(" pets.");

                // sent3 num == 1
                // -    -    +
                if(val.ValOfFeatures()[0] > 0 /* Ethics */)sent3.append(valence[0]).append("gives me ").append(val.getLevel()[0]).append(". ");
                // -1       -1       2
                if(aff.ValOfFeatures()[0] == aff.ValOfFeatures()[1]){
                    sent3.append(valence[3]).append("gives me ").append(val.getLevel()[3]).append(". ");
                    sent3.append("Yet, ").append(valence[1].toLowerCase()).append("and ").append(valence[2].toLowerCase()).append("give me ").append(val.getLevel()[2]).append(" that make me fear a bad outcome. ");
                }
                // -1       -2       2
                else if(aff.ValOfFeatures()[0] != aff.ValOfFeatures()[1]){
                    sent3.append(valence[3]).append("gives me ").append(val.getLevel()[3]).append(". ");
                    sent3.append("Yet, ").append(valence[1].toLowerCase()).append("gives me ").append(val.getLevel()[1]).append(" and ").append(valence[2].toLowerCase()).append("gives me ").append(val.getLevel()[2]).append(" that make me fear a bad outcome. ");
                }
                if(val.ValOfFeatures()[0] < 0 /* Ethics */)sent3.append(valence[0]).append("gives me ").append(val.getLevel()[0]).append(" that makes me hesitate.");
            }
        }

        // sent2
        num = 0;
        for(int i = 0; i < rel.length; i++){
            if(rel[i].relevance > 0.5){
                num++;
            }
        }
        if(num == 4){sent2.append("not only ").append(features[0]).append(rel[0].getLevel()).append(" and ").append(features[1]).append(rel[1].getLevel()).append(" but also ").append(features[2]).append(rel[2].getLevel()).append(" and ").append(features[3]).append(rel[3].getLevel()).append(".");}
        else if(num == 3){
            for(int i = 0; i < rel.length; i++){
                if(rel[i].relevance < 0.5){index = i; continue;}
                sent2.append(features[i]).append(rel[i].getLevel()).append(", ");
                num--;
                if(num == 1) sent2.append("and ");
            }
            sent2.append("yet ").append(features[index]).append(rel[index].getLevel()).append(".");
        }
        //else if(num == 2){}
        //else if(num == 1){}
        else{sent2.append("not only ").append(features[0]).append(rel[0].getLevel()).append(" and ").append(features[1]).append(rel[1].getLevel()).append(" but also ").append(features[2]).append(rel[2].getLevel()).append(" and ").append(features[3]).append(rel[3].getLevel()).append(".");}
    }

    private static int countPos(Affordance aff){
        num = 0;
        for(int i = 0; i < aff.ValOfFeatures().length; i++){
            if(aff.ValOfFeatures()[i] > 0) num++;
        }
        //System.out.print(num); System.out.println("\n"); // For debugging
        return num;
    }

    private static int posIndex(Affordance aff){
        for(int i = 0; i < aff.ValOfFeatures().length; i++){
            if(aff.ValOfFeatures()[i] > 0) index = i;
        }

        return index;
    }
    private static int negIndex(Affordance aff){
        for(int i = 0; i < aff.ValOfFeatures().length; i++){
            if(aff.ValOfFeatures()[i] < 0) index = i;
        }
        //System.out.print(index); //For debugging

        return index;
    }

    private static int count2s(Affordance aff){
        num = 0;
        for(int i = 0; i < aff.ValOfFeatures().length; i++){
            if(aff.ValOfFeatures()[i] == 2) num++;
        }
        //System.out.print(num); System.out.println("\n"); // For debugging
        return num;
    }

    private static void invlNdistFormulation(Involvement invl, Distance dist, UseIntention useInt){
        sent4.append(invl.getDistance()).append(". Yet, ").append(dist.getDistance()).append(".\n");
        sent4.append(useInt.getUseIntention());
        // aff.convert(affordanceFeatures[i], i)
        // i = 0, 1, 2
    }
}
</pre></div>
<a href="https://github.com/SiliconCoppelia/Coppelia" target="_blank" style="color: grey;"><p>Open Source Code</p></a>
    <hr><h2>Development Team</h2>
    <a href="https://www.linkedin.com/in/yi-pu-chen-535040194" target="_blank" title="Tommy"><img src="banjibear.jpg" style="width:200px; height:200px; object-fit:cover; border-radius:50%;"></a>
    <a href="https://www.linkedin.com/in/kanbei-yan-24b6311aa/" target="_blank" title="Kan"><img src="kan.jpg" style="width:200px; height:200px; object-fit:cover; border-radius:50%;"></a>
    <a href="https://github.com/Yookivivi" target="_blank" title="Yooki"><img src="nobody.jpg" style="width:200px; height:200px; object-fit:cover; border-radius:50%;"></a>
    <a href="https://github.com/RepublicHo" target="_blank" title="Anthony"><img src="nobody.jpg" style="width:200px; height:200px; object-fit:cover; border-radius:50%;"></a>
    <a href="" target="_blank" title="Ivy"><img src="nobody.jpg" style="width:200px; height:200px; object-fit:cover; border-radius:50%;"></a>
    <hr><h2>Reference</h2>
    <a style="color: grey;" href="https://research.polyu.edu.hk/en/publications/silicon-coppelia-and-the-formalization-of-the-affective-process" target="_blank"><p style="color: grey;">J. F. Hoorn, T. Baier, J. A. N. Van Maanen and J. Wester, "Silicon Coppélia and the Formalization of the Affective Process," in IEEE Transactions on Affective Computing, doi: 10.1109/TAFFC.2020.3048587.</p></a>
  </div>



  <div class="bottomFooter">
    <button class="b2" style="font-size: 25px;" onclick="window.location.href='../index.html';"><i class="icon"><ion-icon name="person-outline"></ion-icon></i></button>
  </div>  

<script>

  /* Set the width of the sidebar to 250px and the left margin of the page content to 250px */
  function openNav() {
    document.getElementById("mySidebar").style.width = "250px";
    document.getElementById("main").style.marginLeft = "250px";
  }

  /* Set the width of the sidebar to 0 and the left margin of the page content to 0 */
  function closeNav() {
    document.getElementById("mySidebar").style.width = "0";
    document.getElementById("main").style.marginLeft = "0";
  }

</script>

  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>


</body>
</html>

